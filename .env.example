# LLM Provider Configuration
# Available providers: "anthropic" (default), "openrouter"
LLM_PROVIDER=anthropic

# Optional: Override the default model for the selected provider
# Default models:
#   - anthropic: claude-sonnet-4-5-20250929
#   - openrouter: x-ai/grok-4.1-fast:free
# LLM_MODEL=claude-sonnet-4-5-20250929

# Anthropic API (required if LLM_PROVIDER=anthropic)
ANTHROPIC_API_KEY=your_anthropic_api_key

# OpenRouter API (required if LLM_PROVIDER=openrouter)
# Get your API key at https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key

# Embeddings (OpenRouter or local Transformers.js)
# EMBEDDING_PROVIDER=openrouter
# EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_MODEL_DIR=C:\\path\\to\\models
# EMBEDDING_CACHE_DIR=.local-data\\transformers-cache
# ALLOW_LOCAL_EMBEDDINGS=true
# LOCAL_EMBEDDING_QUERY_PREFIX=Represent this code for search:
# LOCAL_EMBEDDING_QUERY_MAX_CHARS=512


# Database
DATABASE_URL=postgresql://user:password@localhost:5432/styly_agent

# AWS S3
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=
S3_BUCKET_NAME=
S3_BASE_PREFIX=

# CDN/Public URL for images
CDN_BASE_URL=https://your-cdn-domain.com

# Image Editing API (Gemini Imagen)
IMAGEN_EDIT_ENDPOINT=
STYLY_AI_API_KEY=

# Flux2 Image Generation API
FLUX2_API_KEY=

# App Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000

# macOS signing + notarization (Electron)
# APPLE_APP_SPECIFIC_PASSWORD is required for notarization.

# Optional: Max body size for multipart requests that pass through Next.js middleware
# Increase for larger local document uploads (e.g. 100mb, 200mb)
# NEXT_DOCUMENT_UPLOAD_BODY_SIZE_LIMIT=100mb

# Image Generation Model Selection
# Set to "true" or "false" to enable/disable each model
ENABLE_GEMINI_EDIT=false     # Enable Gemini image editing tool (editImage for try-on/room visualization)
ENABLE_FLUX2_GENERATE=false  # Enable Flux2 image generation tool (generateImageFlux2)
ENABLE_WAN22_IMAGEN=false    # Enable WAN 2.2 Imagen text-to-image tool (generateImageWan22)
ENABLE_WAN22_VIDEO=false     # Enable WAN 2.2 Video image-to-video tool (generateVideoWan22)

# Character Style Reference Image (optional)
# If set, this image URL will be used as a reference for all character image generations
# to maintain a consistent art style across generated characters
# CHARACTER_STYLE_REFERENCE_URL=https://example.com/your-style-reference.png

# Vector Search V2 (feature flags and tuning)
VECTOR_SEARCH_HYBRID=false
VECTOR_SEARCH_TOKEN_CHUNKING=false
VECTOR_SEARCH_RERANKING=false
VECTOR_SEARCH_QUERY_EXPANSION=false
VECTOR_SEARCH_V2_PERCENTAGE=0
VECTOR_SEARCH_RRF_K=30
VECTOR_SEARCH_DENSE_WEIGHT=1.5
VECTOR_SEARCH_LEXICAL_WEIGHT=0.2
VECTOR_SEARCH_RERANK_MODEL=models/ms-marco-MiniLM-L-6-v2.onnx
VECTOR_SEARCH_RERANK_TOPK=20
VECTOR_SEARCH_TOKEN_CHUNK_SIZE=16
VECTOR_SEARCH_TOKEN_CHUNK_STRIDE=8
VECTOR_SEARCH_MAX_CHUNKS_PER_FILE=200
VECTOR_SEARCH_EMBED_BATCH_SIZE=64
VECTOR_SEARCH_LLM_SYNTHESIS=true
